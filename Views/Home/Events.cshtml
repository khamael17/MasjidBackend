@model Masjid.Services.HomeService

@{
    Layout = "_Layout";
}

@foreach(var evt in Model.GetEvents){
<form class="mb-2">
    <div class="card bg-light" style="min-height: 80vh">
        <img class="card-img-top" src="/img/eventpic.jpg" alt="Card image cap">
        <div class="card-body ">
            <h5 class="card-title ">

                <div class="d-flex justify-content-between ">
                    <div><u>@evt.EventTitle</u></div>
                    <div><h6> Price: <span class="  imam-nav-name ">@evt.EventPrice</span></h6></div>
                </div>

            </h5>
            <h6 class="">Time & Place: <span style="font-weight: 600; font-size: 10px;">@evt.EventTime_Place</span></h6>
            
            <p class="card-text"> @evt.EventDesc</p>
            <footer class="blockquote-footer text-right">
                @evt.EventNarrator
            </footer>
                <button type="submit" class="btn btn-danger mb-4" style=" font-size: 10px;" onclick="remov(@evt.EventId)">Delete</button>
        </div>
    </div>
</form>
}

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>

<script src="https://code.jquery.com/jquery-3.6.3.js"
        integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
        crossorigin="anonymous"></script>


<script type="text/javascript">
    $(document).ready(function () {

    });

    function remov(id) {

        $.ajax(
            {
                type: "DELETE",
                url: "/api/Events/" + id,
                success: function () {
                    location.reload();
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    console.log(xhr.status);
                    console.log(thrownError);
                }
            });

    };


</script>